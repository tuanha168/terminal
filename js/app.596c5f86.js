(function(){"use strict";var e={1002:function(e,t,a){var n=a(9242),r=a(3396);function l(e,t,a,n,l,u){const o=(0,r.up)("Terminal");return(0,r.wg)(),(0,r.j4)(o)}a(7658);var u=a(7139);const o=e=>((0,r.dD)("data-v-754f968d"),e=e(),(0,r.Cn)(),e),s=["innerHTML"],i=o((()=>(0,r._)("br",null,null,-1))),c=["innerHTML"];var v=(0,r.aZ)({__name:"OutputComponent",props:{history:{type:Array},pwd:String||null},setup(e){return(t,a)=>((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.history,((t,a)=>((0,r.wg)(),(0,r.iD)("div",{key:a,class:(0,u.C_)({"has-output":t.output,"first-output":0===a})},[0!==a?((0,r.wg)(),(0,r.iD)("span",{key:0,innerHTML:`${e.pwd?.replace("/home","~")} ${t.val}`},null,8,s)):(0,r.kq)("",!0),i,(0,r._)("span",{class:"output",innerHTML:`${t.output||""}`},null,8,c)],2)))),128))}}),p=a(89);const d=(0,p.Z)(v,[["__scopeId","data-v-754f968d"]]);var h=d,f=a(6265),m=a.n(f);const y=m().create({timeout:2e3}),_=e=>Object.keys(g).includes(e),g={run:async(e,t=!0)=>{if(!e||!t)return"";const[a]=e.split(" ");if(/^!(\d+)$/.test(a)){const e=parseInt(/^!(\d+)$/.exec(a)?.[1]||""),t=JSON.parse(localStorage.getItem("history")||""),n=t.filter((e=>e.val&&!e.output?.includes("not found")&&"history"!==e.val))?.[e-1];return n?.val||""}if(_(a)){const e=await g[a](a)||"";return e}return g.notfound(a)},tabCompletions:e=>Object.keys(g).find((t=>t.includes(e))),notfound:e=>`Command not found: ${e}\nType <span class="red">help</span> for list commands`,help:()=>'<span class="red">help</span>\t\tview this document\n<span class="red">whoami</span>\t\tabout me\n<span class="red">weather</span>\t\ttoday weather\n<span class="red">ip-address</span>\t\tshow your ip address\n<span class="red">history</span>\t\tcommands history\n<span class="red">clear</span>\t\tclear screen\n',history:()=>{const e=JSON.parse(localStorage.getItem("history")),t=e?.filter((e=>e.val&&!e.output?.includes("not found")&&"history"!==e.val)).map(((e,t)=>t+1+":  "+e.val)).join("<br />");return t},whoami:()=>'I\'m <span class="green">Ha Anh Tuan</span>, Communicator in Viet Nam, also a Front-End developer.',weather:async()=>{try{const e=await y.get("https://wttr.in/"),t=document.createElement("html");t.innerHTML=e.data;const a=t.querySelector('style[type="text/css"]'),n=t.querySelector("pre");return`${a?.outerHTML}${n?.outerHTML}\n<span style="font-size: 0.7rem">source: <a href="https://wttr.in/" target="_blank">https://wttr.in/</a></span>`}catch(e){return"Failed to fetch weather"}},"ip-address":async()=>{const e=await y.get("https://api.ipify.org?format=json");return`Your IP address is: ${e.data?.ip}`}};var w=g;const b=["           _                         ","  _____   (_)  _____   ____     ____ "," / ___/  / /  / ___/  / __ \\   / __ \\","/ /__   / /  / /     / / / /  / /_/ /","\\___/  /_/  /_/     /_/ /_/   \\____/ "].join("<br/>").replace(/\s/g,"&nbsp;"),k=b+["","","Welcome to my page,",'Type <span class="red">help</span> to view list available commands'].join("<br/>"),T={id:0,val:"",output:k};var H=T,O=a(4870);const $=e=>((0,r.dD)("data-v-c1dd0256"),e=e(),(0,r.Cn)(),e),S={class:"terminal"},C={class:"input-area"},j={key:0,class:"characters",style:{color:"transparent"}},D=$((()=>(0,r._)("div",{class:"cursor default-cursor"},null,-1))),I={key:1,style:{"font-weight":"normal",margin:"0"}},K=["disabled"];var L=(0,r.aZ)({__name:"TerminalComponent",setup(e){const t=(0,O.iH)(""),a=(0,O.iH)(""),l=(0,O.iH)(0),o=(0,O.iH)(1),s=(0,O.iH)(!1),i=(0,O.iH)(!1),c=(0,O.iH)(!1),v=(0,O.iH)(!1),p=(0,O.iH)(),d=(0,O.iH)([H]),f=(0,O.iH)("/home"),m=async(e=!0)=>{if(/^!(\d+)$/.test(t.value))return i.value=!0,void(t.value=await w.run(t.value,e));let a="";"clear"===t.value?d.value=[H]:(v.value=!0,a=await w.run(t.value,e),v.value=!1,setTimeout((()=>{p.value?.scrollIntoView({behavior:"smooth"})})));const n={id:d.value.length,val:t.value.trimStart().replace(/\s/g,"&nbsp;"),output:a};"clear"!==t.value&&d.value.push(n);const r=[...JSON.parse(localStorage.getItem("history")||"[]"),n];localStorage.setItem("history",JSON.stringify(r)),t.value="",i.value||(i.value=!1)},y=e=>{switch(!0){case/^Enter$/g.test(e):l.value=t.value.length,c.value=!1;break;case/^ArrowUp$/g.test(e):0===t.value.length||s.value?(s.value=!0,_()):l.value=0,c.value=!1;break;case/^Backspace$/g.test(e):l.value>0&&l.value--,s.value=!1,c.value=!1;break;case/^ArrowLeft$/g.test(e):l.value<=t.value.length&&l.value>0&&l.value--,s.value=!1,c.value=!1;break;case/^ArrowDown$/g.test(e):l.value=t.value.length,s.value=!1,c.value=!1;break;case/^ArrowRight$/g.test(e):case/^.$/g.test(e):l.value<t.value.length&&l.value>=0&&l.value++,s.value=!1,c.value=!1;break;default:break}},_=()=>{let e=d.value[o.value-1];while(!e.val)if(o.value--,e=d.value[o.value-1],o.value<1){e=d.value[0],o.value=d.value.length;break}t.value=e.val,l.value=t.value.length,o.value--,o.value<1&&(o.value=d.value.length)},g=e=>{if("Tab"===e.key&&(e.preventDefault(),c.value||(a.value=t.value,c.value=!0),t.value=w.tabCompletions(a.value)||""),e.ctrlKey&&"c"===e.key)return b();e.metaKey||e.altKey||e.ctrlKey||e.shiftKey&&1!==e.key.length||("Enter"===e.key&&(m(),o.value=d.value.length,setTimeout((()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}))),"a"!==e.key&&"v"!==e.key||!e.ctrlKey&&!e.metaKey||setTimeout((()=>{l.value=t.value.length})),setTimeout((()=>{y(e.key)})))},b=()=>{m(!1)},k=e=>{document.activeElement!==p.value&&(p.value?.focus({preventScroll:!0}),setTimeout((()=>{y(e?.key||"")})))};return(0,r.bv)((()=>{k(),localStorage.setItem("pwd","/home");const e=document.querySelector("html");e?.addEventListener("keydown",k,!0)})),(0,r.Jd)((()=>{const e=document.querySelector("html");e?.removeEventListener("keydown",k,!0)})),(e,a)=>((0,r.wg)(),(0,r.iD)("div",S,[(0,r.Wm)(h,{pwd:f.value,history:d.value},null,8,["pwd","history"]),(0,r._)("div",C,[(0,r.Uk)((0,u.zw)(f.value?.replace("/home","~"))+" ",1),0===t.value.length?((0,r.wg)(),(0,r.iD)("span",j,[(0,r.Uk)(" 1 "),D])):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.value,((e,t)=>((0,r.wg)(),(0,r.iD)("span",{class:(0,u.C_)([{"cursor-on":l.value===t||0===t&&0===l.value},"characters"]),key:t},[(0,r.Uk)((0,u.zw)(e.replace(/\s/g,"Â "))+" ",1),(0,r.wy)((0,r._)("div",{class:(0,u.C_)([{"first-cursor":0===l.value},"cursor"])},null,2),[[n.F8,l.value-1===t||0===t&&0===l.value]])],2)))),128)),v.value?((0,r.wg)(),(0,r.iD)("p",I,"loading...")):(0,r.kq)("",!0)]),(0,r.wy)((0,r._)("input",{ref_key:"input",ref:p,type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),disabled:v.value,onKeydown:g},null,40,K),[[n.nr,t.value]])]))}});const x=(0,p.Z)(L,[["__scopeId","data-v-c1dd0256"]]);var E=x,M=(0,r.aZ)({name:"App",components:{Terminal:E}});const q=(0,p.Z)(M,[["render",l]]);var A=q;(0,n.ri)(A).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,l){if(!n){var u=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],l=e[c][2];for(var o=!0,s=0;s<n.length;s++)(!1&l||u>=l)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(o=!1,l<u&&(u=l));if(o){e.splice(c--,1);var i=r();void 0!==i&&(t=i)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,r,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,l,u=n[0],o=n[1],s=n[2],i=0;if(u.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(s)var c=s(a)}for(t&&t(n);i<u.length;i++)l=u[i],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},n=self["webpackChunkCirnoTerminal"]=self["webpackChunkCirnoTerminal"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(1002)}));n=a.O(n)})();
//# sourceMappingURL=app.596c5f86.js.map